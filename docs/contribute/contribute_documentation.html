

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Contribute documentation &mdash; BCPU-documentation 0.1 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Example page" href="example.html" />
    <link rel="prev" title="Contribute" href="contribute.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> BCPU-documentation
          

          
          </a>

          
            
            
              <div class="version">
                0.1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">Content:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../seasonal_forecast/seasonal_forecast.html">Seasonal forecast</a></li>
<li class="toctree-l1"><a class="reference internal" href="../support/support.html">Support</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="contribute.html">Contribute</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Contribute documentation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#clone-the-github-repository">1.1. Clone the GitHub repository</a></li>
<li class="toctree-l3"><a class="reference internal" href="#pull-the-most-up-to-date-documentation">1.2. Pull the most up-to-date documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#modify-an-existing-page">2.1. Modify an existing page</a></li>
<li class="toctree-l3"><a class="reference internal" href="#add-a-new-page-to-an-existing-category">2.2. Add a new page to an existing category</a></li>
<li class="toctree-l3"><a class="reference internal" href="#add-a-new-category">2.3. Add a new category</a></li>
<li class="toctree-l3"><a class="reference internal" href="#build-the-documentation">3. Build the documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#check-your-changes">4. Check your changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#add-commit-and-push-your-changes">5. Add, commit and push your changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#see-the-published-changes">6. See the published changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="example.html">Example page</a></li>
<li class="toctree-l2"><a class="reference internal" href="example_index.html">Example category index</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Links:</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://bjerknescpu.github.io/BCPU-data-structure/index.html">Storage</a></li>
<li class="toctree-l1"><a class="reference external" href="https://wiki.uib.no/norcpm/index.php/Norwegian_Climate_Prediction_Model">NorCPM</a></li>
<li class="toctree-l1"><a class="reference external" href="https://bjerknescpu.github.io/BCPU-documentation/planned_experiments.pdf">Planned experiments</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">BCPU-documentation</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="contribute.html">Contribute</a> &raquo;</li>
        
      <li>Contribute documentation</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/contribute/contribute_documentation.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <section id="contribute-documentation">
<h1>Contribute documentation<a class="headerlink" href="#contribute-documentation" title="Permalink to this heading">¶</a></h1>
<p>This page describes the process of contributing to this documentation. This is
a good place to place documentation on software or projects within the
BCPU. There is a simple six-step workflow described in this first section,
and there are more detailed notes on each step to guide you through the process.</p>
<ol class="arabic">
<li><p>Get the up-to-date code.</p>
<div class="line-block">
<div class="line">1.1. If this is your first time contributing to the documentation, clone the GitHub repository.</div>
<div class="line">1.2. If not, then pull the most up-to-date documentation.</div>
</div>
</li>
<li><p>Make changes to the documentation files in the source directory, either:</p>
<div class="line-block">
<div class="line">2.1. Modify an existing page.</div>
<div class="line">2.2. Add a new page to an existing category.</div>
<div class="line">2.3. Add a new category.</div>
</div>
</li>
<li><p>Build the documentation in the root directory.</p></li>
<li><p>Check your changes before pushing them to GitHub.</p></li>
<li><p>Add, commit and push your changes to GitHub.</p></li>
<li><p>See the published changes.</p></li>
</ol>
<section id="clone-the-github-repository">
<h2>1.1. Clone the GitHub repository<a class="headerlink" href="#clone-the-github-repository" title="Permalink to this heading">¶</a></h2>
<p>If this is the first time you contribute to the documentation.</p>
<p>This will need to clone the repository <a class="reference external" href="https://github.com/BjerknesCPU/BCPU-documentation">BCPU-documentation</a>.</p>
<p>You should clone the GitHub repository to NIRD so that you have all the tools
available for this workflow. First navigate to /projects/NS9039K/www/&lt;user&gt;
where &lt;user&gt; is a user directory owned by you. If you do not have a directory
in /projects/NS9039K/www/ then create one with your name, username or initials.</p>
<p>Once you are in this directory, clone the repository with the command
<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">clone</span> <span class="pre">ssh://git&#64;github.com/BjerknesCPU/BCPU-documentation.git</span></code>
which will produce a directory ‘BCPU-documentation/’ in your current working
directory. Change directory into this directory.</p>
<p>For more on cloning, see this
<a class="reference external" href="https://docs.github.com/en/repositories/creating-and-managing-repositories/cloning-a-repository">page</a>.
If you have never used the organisational GitHub before, you may have to
<a class="reference external" href="https://docs.github.com/en/enterprise-server&#64;3.0/authentication/connecting-to-github-with-ssh/adding-a-new-ssh-key-to-your-github-account">set up ssh keys</a>.
If you have issues with this step, or with access to the GitHub repository,
please contact our <a class="reference internal" href="../support/support.html"><span class="doc">internal support</span></a>.</p>
</section>
<section id="pull-the-most-up-to-date-documentation">
<h2>1.2. Pull the most up-to-date documentation<a class="headerlink" href="#pull-the-most-up-to-date-documentation" title="Permalink to this heading">¶</a></h2>
<p>If this is not your first time contributing to documentation.</p>
<p>In your local directory of the Git repository (by standard named BCPU-documentation) switch to the main branch.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">checkout</span> <span class="n">main</span>
</pre></div>
</div>
<p>Then pull the remote main branch.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">pull</span> <span class="n">origin</span> <span class="n">main</span>
</pre></div>
</div>
</section>
<section id="modify-an-existing-page">
<h2>2.1. Modify an existing page<a class="headerlink" href="#modify-an-existing-page" title="Permalink to this heading">¶</a></h2>
<p>Within the BCPU-documentation/ directory, all changes are made to the ‘source’
which exists within the source/ directory. In this documentation, the source
files are written in reStructuredText, which is a type of markup. Writing in
this format allows the build files to be automatically generated from the
source files.</p>
<p>Here is an introduction to
<a class="reference external" href="https://docutils.sourceforge.io/docs/user/rst/quickstart.html">reStructuredText</a>
but an easy way of getting started is to copy the format of existing
documentation in the source directory.</p>
<p>Each page on the
documentation <a class="reference external" href="https://bjerknescpu.github.io/BCPU-documentation/">site</a>
corresponds to one .rst file in the source directory. These .rst files are
organised into ‘categories’, for example ‘storage’ or ‘support’.</p>
<p>If you wish to modify an existing documentation page, you need to locate the
.rst file for the page in the source directory, and then make make modifications
to the text in the file.</p>
</section>
<section id="add-a-new-page-to-an-existing-category">
<h2>2.2. Add a new page to an existing category<a class="headerlink" href="#add-a-new-page-to-an-existing-category" title="Permalink to this heading">¶</a></h2>
<p>If you wish to add a new documentation page, follow the following steps,
we will use the template file: source/contribute/example.rst.</p>
<ol class="arabic simple">
<li><p>Copy and rename the example template into your desired destination category,
for example if you want to make a new documentation page about the
seasonal forecast: <code class="docutils literal notranslate"><span class="pre">cp</span> <span class="pre">source/contribute/example.rst</span> <span class="pre">source/seasonal_forecast/new_page.rst</span></code></p></li>
<li><p>Add text to this file, as desired.</p></li>
<li><p>Once you are happy with the file, you need to add a link to the file in the category index.
This should be a .rst file with the same name as the category.</p></li>
</ol>
<a class="reference internal image-reference" href="../_images/example01.png" id="example01"><img alt="../_images/example01.png" id="example01" src="../_images/example01.png" style="width: 800px;" /></a>
<p>Add the new page to the toctree directive.</p>
<a class="reference internal image-reference" href="../_images/example02.png" id="example02"><img alt="../_images/example02.png" id="example02" src="../_images/example02.png" style="width: 200px;" /></a>
</section>
<section id="add-a-new-category">
<h2>2.3. Add a new category<a class="headerlink" href="#add-a-new-category" title="Permalink to this heading">¶</a></h2>
<p>If you want to create a new category for documentation, then follow these steps:</p>
<ol class="arabic simple">
<li><p>Create a new directory in source/ <code class="docutils literal notranslate"><span class="pre">cd</span> <span class="pre">source</span></code>  to hold pages on the new category <code class="docutils literal notranslate"><span class="pre">mkdir</span> <span class="pre">new_category</span></code>.</p></li>
<li><p>Copy the index page template for the new category <code class="docutils literal notranslate"><span class="pre">cp</span> <span class="pre">contribute/example_index.rst</span> <span class="pre">new_category/new_category.rst</span></code>.</p></li>
<li><p>Add new documentation page links to the toctree directive (as in previous example).</p></li>
<li><p>Add the new category to the first section of the master index tree source/index.rst.</p></li>
</ol>
<a class="reference internal image-reference" href="../_images/example03.png" id="example03"><img alt="../_images/example03.png" id="example03" src="../_images/example03.png" style="width: 200px;" /></a>
</section>
<section id="build-the-documentation">
<h2>3. Build the documentation<a class="headerlink" href="#build-the-documentation" title="Permalink to this heading">¶</a></h2>
<p>The documentation is built using
<a class="reference external" href="https://www.sphinx-doc.org/en/master/">Sphinx</a>. In order to use Sphinx, you
will need to load an environment which contains the library. On NIRD, this is
our shared conda environment, which can be activated as follows:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ <span class="nb">source</span> /opt/anaconda3/etc/profile.d/conda.sh
$ conda activate /projects/NS9039K/shared/python3env
</pre></div>
</div>
<p>The documentation is built by calling: <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">github</span></code> in the
BCPU-documentation/ directory.</p>
<p>This will use the files in the source/ directory to generate html files in the
build/ directory. These are then automatically copied to the docs/ directory,
which is where the documentation is read from for the website. These
changes are not applied to our documentation website until we push back to
GitHub. Have a look at your changes before you make them visible to
everyone else (see next step).</p>
</section>
<section id="check-your-changes">
<h2>4. Check your changes<a class="headerlink" href="#check-your-changes" title="Permalink to this heading">¶</a></h2>
<p>Once you have run the <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">github</span></code> command, the built files should be
available in the docs/ directory. It is good practice to view these
files before pushing them to GitHub. Because you have been working in the
project www/ directory, you can check these files
<a class="reference external" href="http://ns9039k.web.sigma2.no">here</a>. In the web interface, navigate into
your user directory, and open the file ‘index.rst’, which is the index page
of the documentation. From here you should be able to check what the
documentation looks like before you push it to our shared website.</p>
</section>
<section id="add-commit-and-push-your-changes">
<h2>5. Add, commit and push your changes<a class="headerlink" href="#add-commit-and-push-your-changes" title="Permalink to this heading">¶</a></h2>
<p>Use git to push your changes to our shared website.</p>
<ul class="simple">
<li><p>Change into the BCPU-documentation/ directory.</p></li>
<li><p>Run the command <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">pull</span></code> to make sure you have the most up to date
version of the documentation.</p></li>
<li><p>Run the command <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">add</span> <span class="pre">-A</span></code> which will stage all your changes.</p></li>
<li><p>Run the command <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">commit</span> <span class="pre">-m</span> <span class="pre">&quot;&lt;MESSAGE&gt;&quot;</span></code> but replace &lt;MESSAGE&gt; with
a brief description of your changes, for example “Added Support documentation
page”.</p></li>
<li><p>Run the command <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">push</span></code> which will push your changes to the remote
repository, which will automatically update the GitHub documentation page.</p></li>
</ul>
</section>
<section id="see-the-published-changes">
<h2>6. See the published changes<a class="headerlink" href="#see-the-published-changes" title="Permalink to this heading">¶</a></h2>
<p>Once you have done pushed the changes to the GitHub, the
<a class="reference external" href="https://bjerknescpu.github.io/BCPU-documentation/">online pages</a> should
automatically update after 1-2 minutes (this is not immediate).</p>
</section>
</section>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="example.html" class="btn btn-neutral float-right" title="Example page" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="contribute.html" class="btn btn-neutral float-left" title="Contribute" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, BCPU.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>